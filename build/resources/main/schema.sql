DROP TABLE IF EXISTS titleFilter CASCADE;
DROP TABLE IF EXISTS amountFilter CASCADE;
DROP TABLE IF EXISTS dateFilter CASCADE;
DROP TABLE IF EXISTS filter CASCADE;

create table filter (
    filter_id integer generated by default as identity (start with 1),
    name varchar(50) not null,
    selection integer not null,
    primary key (filter_id)
);

create table titleFilter (
    title_id integer generated by default as identity (start with 1),
    condition varchar(50) not null,
    title varchar(50) not null,
    filter_id integer not null,
    primary key (title_id)
);

create table amountFilter (
    amount_id integer generated by default as identity (start with 1),
    condition varchar(50) not null,
    amount integer not null,
    filter_id integer not null,
    primary key (amount_id)
);

create table dateFilter (
    date_id integer generated by default as identity (start with 1),
    condition varchar(50) not null,
    date DATE not null,
    filter_id integer not null,
    primary key (date_id)
);

alter table titleFilter add constraint FK_title2filter foreign key (filter_id) references filter (filter_id) ON DELETE CASCADE;
alter table amountFilter add constraint FK_amount2filter foreign key (filter_id) references filter (filter_id) ON DELETE CASCADE;
alter table dateFilter add constraint FK_date2filter foreign key (filter_id) references filter (filter_id) ON DELETE CASCADE;
